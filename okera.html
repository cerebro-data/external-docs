

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>okera package &mdash; pyokera  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="okera.tests package" href="okera.tests.html" />
    <link rel="prev" title="Welcome to pyokera’s documentation!" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pyokera
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">okera package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="okera.tests.html">okera.tests package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-okera.botocore_patch">okera.botocore_patch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-okera.concurrency">okera.concurrency module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-okera.odas">okera.odas module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-okera">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">okera</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyokera</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>okera package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/okera.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="okera-package">
<h1>okera package<a class="headerlink" href="#okera-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="okera.tests.html">okera.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="okera.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="okera.tests.html#module-okera.tests.pycerebro_test_common">okera.tests.pycerebro_test_common module</a></li>
<li class="toctree-l2"><a class="reference internal" href="okera.tests.html#module-okera.tests.test_basic">okera.tests.test_basic module</a></li>
<li class="toctree-l2"><a class="reference internal" href="okera.tests.html#module-okera.tests.test_connections">okera.tests.test_connections module</a></li>
<li class="toctree-l2"><a class="reference internal" href="okera.tests.html#module-okera.tests.test_fs">okera.tests.test_fs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="okera.tests.html#module-okera.tests.test_nightly">okera.tests.test_nightly module</a></li>
<li class="toctree-l2"><a class="reference internal" href="okera.tests.html#module-okera.tests.test_scans">okera.tests.test_scans module</a></li>
<li class="toctree-l2"><a class="reference internal" href="okera.tests.html#module-okera.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-okera.botocore_patch">
<span id="okera-botocore-patch-module"></span><h2>okera.botocore_patch module<a class="headerlink" href="#module-okera.botocore_patch" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="okera.botocore_patch.patch_botocore">
<code class="descclassname">okera.botocore_patch.</code><code class="descname">patch_botocore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/botocore_patch.html#patch_botocore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.botocore_patch.patch_botocore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-okera.concurrency">
<span id="okera-concurrency-module"></span><h2>okera.concurrency module<a class="headerlink" href="#module-okera.concurrency" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="okera.concurrency.BaseBackgroundTask">
<em class="property">class </em><code class="descclassname">okera.concurrency.</code><code class="descname">BaseBackgroundTask</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/concurrency.html#BaseBackgroundTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.concurrency.BaseBackgroundTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="okera.concurrency.BaseBackgroundTask.Name">
<code class="descname">Name</code><a class="headerlink" href="#okera.concurrency.BaseBackgroundTask.Name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="okera.concurrency.BaseBackgroundTask.set_handler">
<code class="descname">set_handler</code><span class="sig-paren">(</span><em>handler</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/concurrency.html#BaseBackgroundTask.set_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.concurrency.BaseBackgroundTask.set_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="okera.concurrency.ConcurrencyController">
<em class="property">class </em><code class="descclassname">okera.concurrency.</code><code class="descname">ConcurrencyController</code><span class="sig-paren">(</span><em>worker_count=8</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/concurrency.html#ConcurrencyController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.concurrency.ConcurrencyController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="okera.concurrency.ConcurrencyController.enqueueTask">
<code class="descname">enqueueTask</code><span class="sig-paren">(</span><em>task</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/concurrency.html#ConcurrencyController.enqueueTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.concurrency.ConcurrencyController.enqueueTask" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="okera.concurrency.ConcurrencyController.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/concurrency.html#ConcurrencyController.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.concurrency.ConcurrencyController.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="okera.concurrency.ConcurrencyController.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/concurrency.html#ConcurrencyController.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.concurrency.ConcurrencyController.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="okera.concurrency.ConcurrencyController.terminate">
<code class="descname">terminate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/concurrency.html#ConcurrencyController.terminate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.concurrency.ConcurrencyController.terminate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="okera.concurrency.TaskHandlerProcess">
<em class="property">class </em><code class="descclassname">okera.concurrency.</code><code class="descname">TaskHandlerProcess</code><span class="sig-paren">(</span><em>task_queue</em>, <em>output_queue</em>, <em>metrics_dict</em>, <em>errors_queue</em>, <em>concurrency_ctl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/concurrency.html#TaskHandlerProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.concurrency.TaskHandlerProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">multiprocessing.context.Process</span></code></p>
<dl class="method">
<dt id="okera.concurrency.TaskHandlerProcess.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/concurrency.html#TaskHandlerProcess.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.concurrency.TaskHandlerProcess.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to be run in sub-process; can be overridden in sub-class</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="okera.concurrency.default_max_client_process_count">
<code class="descclassname">okera.concurrency.</code><code class="descname">default_max_client_process_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/concurrency.html#default_max_client_process_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.concurrency.default_max_client_process_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-okera.odas">
<span id="okera-odas-module"></span><h2>okera.odas module<a class="headerlink" href="#module-okera.odas" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="okera.odas.JsonScanTask">
<em class="property">class </em><code class="descclassname">okera.odas.</code><code class="descname">JsonScanTask</code><span class="sig-paren">(</span><em>ctx</em>, <em>plan_hosts</em>, <em>task</em>, <em>max_records</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#JsonScanTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.JsonScanTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#okera.odas.ScanTask" title="okera.odas.ScanTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">okera.odas.ScanTask</span></code></a></p>
<dl class="method">
<dt id="okera.odas.JsonScanTask.deserialize">
<code class="descname">deserialize</code><span class="sig-paren">(</span><em>schema</em>, <em>columnar_records</em>, <em>num_records</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#JsonScanTask.deserialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.JsonScanTask.deserialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract definition to deserialize the returned dataset</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="okera.odas.OkeraContext">
<em class="property">class </em><code class="descclassname">okera.odas.</code><code class="descname">OkeraContext</code><span class="sig-paren">(</span><em>application_name</em>, <em>tz=&lt;UTC&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="okera.odas.OkeraContext.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>host='localhost'</em>, <em>port=12050</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraContext.connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraContext.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a connection to an ODAS cluster. This connects to the planner service.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>host</strong> (<em>str</em><em> or </em><em>list of hostnames</em>) – The hostname for the planner. If a list is specified, picks a planner at
random.</li>
<li><strong>port</strong> (<em>int</em><em>, </em><em>optional</em>) – The port number for the planner. The default is 12050.</li>
<li><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Connection timeout in seconds. Default is no timeout.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Handle to a connection. Users should call <cite>close()</cite> when done.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#okera.odas.PlannerConnection" title="okera.odas.PlannerConnection">PlannerConnection</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="okera.odas.OkeraContext.connect_worker">
<code class="descname">connect_worker</code><span class="sig-paren">(</span><em>host='localhost'</em>, <em>port=13050</em>, <em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraContext.connect_worker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraContext.connect_worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a connection to ODAS worker.</p>
<p>Most users should not need to call this API directly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>host</strong> (<em>str</em><em> or </em><em>list of hostnames</em>) – The hostname for the worker. If a list is specified, picks a worker at
random.</li>
<li><strong>port</strong> (<em>int</em><em>, </em><em>optional</em>) – The port number for the worker. The default is 13050.</li>
<li><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Connection timeout in seconds. Default is no timeout.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Handle to a worker connection. Users must call <cite>close()</cite> when done.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#okera.odas.WorkerConnection" title="okera.odas.WorkerConnection">WorkerConnection</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="okera.odas.OkeraContext.disable_auth">
<code class="descname">disable_auth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraContext.disable_auth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraContext.disable_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Disables authentication.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Returns this object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#okera.odas.OkeraContext" title="okera.odas.OkeraContext">OkeraContext</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="okera.odas.OkeraContext.enable_kerberos">
<code class="descname">enable_kerberos</code><span class="sig-paren">(</span><em>service_name</em>, <em>host_override=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraContext.enable_kerberos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraContext.enable_kerberos" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable kerberos based authentication.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>service_name</strong> (<em>str</em>) – Authenticate to a particular <cite>okera</cite> service principal. This is typically
the first part of the 3-part service principal (<a class="reference external" href="mailto:SERVICE_NAME/HOST&#37;&#52;&#48;REALM">SERVICE_NAME/HOST<span>&#64;</span>REALM</a>).</li>
<li><strong>host_override</strong> (<em>str</em><em>, </em><em>optional</em>) – If set, the HOST portion of the server’s service principal. If not set,
then this is the resolved DNS name of the service being connected to.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Returns this object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#okera.odas.OkeraContext" title="okera.odas.OkeraContext">OkeraContext</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="okera.odas.OkeraContext.enable_token_auth">
<code class="descname">enable_token_auth</code><span class="sig-paren">(</span><em>token_str=None</em>, <em>token_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraContext.enable_token_auth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraContext.enable_token_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables token based authentication.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>token_str</strong> (<em>str</em><em>, </em><em>optional</em>) – Authentication token to use.</li>
<li><strong>token_file</strong> (<em>str</em><em>, </em><em>optional</em>) – File containing token to use.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Returns this object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#okera.odas.OkeraContext" title="okera.odas.OkeraContext">OkeraContext</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="okera.odas.OkeraContext.get_auth">
<code class="descname">get_auth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraContext.get_auth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraContext.get_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the configured auth mechanism. None if no auth is enabled.</p>
</dd></dl>

<dl class="method">
<dt id="okera.odas.OkeraContext.get_name">
<code class="descname">get_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraContext.get_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraContext.get_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name of this application. This is recorded for diagnostics on
the server.</p>
</dd></dl>

<dl class="method">
<dt id="okera.odas.OkeraContext.get_timezone">
<code class="descname">get_timezone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraContext.get_timezone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraContext.get_timezone" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="okera.odas.OkeraContext.get_token">
<code class="descname">get_token</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraContext.get_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraContext.get_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the token string. Note that logging this should be done with care.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="okera.odas.OkeraFsStream">
<em class="property">class </em><code class="descclassname">okera.odas.</code><code class="descname">OkeraFsStream</code><span class="sig-paren">(</span><em>planner</em>, <em>tbl</em>, <em>delimiter='</em>, <em>'</em>, <em>quote_strings=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraFsStream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraFsStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wrapper object which behaves like a stream to send serialized results back
in a byte stream based API. The API is intended to be compatible with a
urllib stream object.</p>
<dl class="method">
<dt id="okera.odas.OkeraFsStream.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>amt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#OkeraFsStream.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.OkeraFsStream.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="okera.odas.PandasScanTask">
<em class="property">class </em><code class="descclassname">okera.odas.</code><code class="descname">PandasScanTask</code><span class="sig-paren">(</span><em>ctx</em>, <em>plan_hosts</em>, <em>task</em>, <em>max_records</em>, <em>options</em>, <em>strings_as_utf8</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PandasScanTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PandasScanTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#okera.odas.ScanTask" title="okera.odas.ScanTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">okera.odas.ScanTask</span></code></a></p>
<dl class="method">
<dt id="okera.odas.PandasScanTask.deserialize">
<code class="descname">deserialize</code><span class="sig-paren">(</span><em>schema</em>, <em>columnar_records</em>, <em>num_records</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PandasScanTask.deserialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PandasScanTask.deserialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract definition to deserialize the returned dataset</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="okera.odas.PlannerConnection">
<em class="property">class </em><code class="descclassname">okera.odas.</code><code class="descname">PlannerConnection</code><span class="sig-paren">(</span><em>thrift_service</em>, <em>ctx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A connection to an ODAS planner.</p>
<dl class="method">
<dt id="okera.odas.PlannerConnection.cat">
<code class="descname">cat</code><span class="sig-paren">(</span><em>path</em>, <em>as_utf8=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.cat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.cat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the object at this path as a string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>str</em>) – The path to the file to read.</li>
<li><strong>as_utf8</strong> (<em>bool</em>) – If true, convert the returned data as a utf-8 string (instead of binary)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Returns the contents at the path as a string.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the session and server connection.</p>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.execute_ddl">
<code class="descname">execute_ddl</code><span class="sig-paren">(</span><em>sql</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.execute_ddl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.execute_ddl" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a DDL statement against the server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sql</strong> (<em>str</em>) – DDL statement to run</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Returns the result as a table.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(list(str))</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">okera</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">okera</span><span class="o">.</span><span class="n">context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ctx</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span> <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">12050</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute_ddl</span><span class="p">(</span><span class="s1">&#39;describe okera_sample.users&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">result</span>
<span class="go">[[&#39;uid&#39;, &#39;string&#39;, &#39;Unique user id&#39;], [&#39;dob&#39;, &#39;string&#39;, &#39;Formatted as DD-month-YY&#39;], [&#39;gender&#39;, &#39;string&#39;, &#39;&#39;], [&#39;ccn&#39;, &#39;string&#39;, &#39;Sensitive data, should not be accessible without masking.&#39;]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.execute_ddl_table_output">
<code class="descname">execute_ddl_table_output</code><span class="sig-paren">(</span><em>sql</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.execute_ddl_table_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.execute_ddl_table_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a DDL statement against the server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sql</strong> (<em>str</em>) – DDL statement to run</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Returns the result as a table object.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">PrettyTable</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">okera</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">okera</span><span class="o">.</span><span class="n">context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ctx</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span> <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">12050</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute_ddl_table_output</span><span class="p">(</span><span class="s1">&#39;describe okera_sample.users&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">+--------+--------+-----------------------------------------------------------+</span>
<span class="go">|  name  |  type  |                          comment                          |</span>
<span class="go">+--------+--------+-----------------------------------------------------------+</span>
<span class="go">|  uid   | string |                       Unique user id                      |</span>
<span class="go">|  dob   | string |                  Formatted as DD-month-YY                 |</span>
<span class="go">| gender | string |                                                           |</span>
<span class="go">|  ccn   | string | Sensitive data, should not be accessible without masking. |</span>
<span class="go">+--------+--------+-----------------------------------------------------------+</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.get_catalog_objects_at">
<code class="descname">get_catalog_objects_at</code><span class="sig-paren">(</span><em>path_prefix</em>, <em>include_views=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.get_catalog_objects_at"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.get_catalog_objects_at" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns the objects (databases or datasets) thats registered with this</dt>
<dd>prefix path.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path_prefix</strong> (<em>str</em>) – The path prefix to look up objects defined with this prefix.</li>
<li><strong>include_views</strong> (<em>bool</em>) – If true, also return views at this path.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For each path with a catalog objects, the list of objects located at that
path. Empty map if there are none.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">map(str, list(str))</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.get_protocol_version">
<code class="descname">get_protocol_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.get_protocol_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.get_protocol_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the RPC API version of the server.</p>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.list_databases">
<code class="descname">list_databases</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.list_databases"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.list_databases" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all the databases in the catalog</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of database names.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list(str)</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">okera</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">okera</span><span class="o">.</span><span class="n">context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ctx</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span> <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">12050</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">dbs</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">list_databases</span><span class="p">()</span>
<span class="gp">... </span>    <span class="s1">&#39;okera_sample&#39;</span> <span class="ow">in</span> <span class="n">dbs</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.list_dataset_names">
<code class="descname">list_dataset_names</code><span class="sig-paren">(</span><em>db</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.list_dataset_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.list_dataset_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of the datasets in this db</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>str</em>) – Name of database to return datasets in.</li>
<li><strong>filter</strong> (<em>str</em><em>, </em><em>optional</em>) – Substring filter on names to of datasets to return.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of dataset names.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(str)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">okera</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">okera</span><span class="o">.</span><span class="n">context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ctx</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span> <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">12050</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">datasets</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">list_dataset_names</span><span class="p">(</span><span class="s1">&#39;okera_sample&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">datasets</span>
<span class="go">[&#39;okera_sample.sample&#39;, &#39;okera_sample.users&#39;, &#39;okera_sample.users_ccn_masked&#39;, &#39;okera_sample.whoami&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.list_datasets">
<code class="descname">list_datasets</code><span class="sig-paren">(</span><em>db</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.list_datasets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.list_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the datasets in this db</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>str</em>) – Name of database to return datasets in.</li>
<li><strong>filter</strong> (<em>str</em><em>, </em><em>optional</em>) – Substring filter on names to of datasets to return.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Thrift dataset objects.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">obj</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This API is subject to change and the returned object may not be backwards
compatible.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.ls">
<code class="descname">ls</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.ls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.ls" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists the files in this directory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – The path to list.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of files located at this path.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list(str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.open">
<code class="descname">open</code><span class="sig-paren">(</span><em>path</em>, <em>preload_content=True</em>, <em>version=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the object at this path as a byte stream</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – The path to the file to open.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Returns an object that behaves like an opened urllib3 stream.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.plan">
<code class="descname">plan</code><span class="sig-paren">(</span><em>request</em>, <em>max_task_count=None</em>, <em>requesting_user=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.plan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.plan" title="Permalink to this definition">¶</a></dt>
<dd><p>Plans the request to read from CDAS
:param request: Name of dataset or SQL statement to plan scan for.
:type request: str, required
:param requesting_user: Name of user to request plan for, if different from</p>
<blockquote>
<div>the current user.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Thrift serialized plan object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">object</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This API is subject to change and the returned object may not be backwards
compatible.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.scan_as_json">
<code class="descname">scan_as_json</code><span class="sig-paren">(</span><em>request</em>, <em>max_records=None</em>, <em>warnings=None</em>, <em>max_client_process_count=8</em>, <em>max_task_count=None</em>, <em>requesting_user=None</em>, <em>ignore_errors=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.scan_as_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.scan_as_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Scans data, returning the result in json format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<em>string</em><em>, </em><em>required</em>) – Name of dataset or SQL statement to scan.</li>
<li><strong>max_records</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of records to return. Default is unlimited.</li>
<li><strong>warnings</strong> (<em>list</em><em>(</em><em>string</em><em>)</em><em>, </em><em>optional</em>) – If not None, will be populated with any warnings generated for request.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Data returned as a list of JSON objects</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list(obj)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">okera</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">okera</span><span class="o">.</span><span class="n">context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ctx</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span> <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">12050</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">data</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">scan_as_json</span><span class="p">(</span><span class="s1">&#39;okera_sample.sample&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">data</span>
<span class="go">[{&#39;record&#39;: &#39;This is a sample test file.&#39;}, {&#39;record&#39;: &#39;It should consist of two lines.&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.scan_as_pandas">
<code class="descname">scan_as_pandas</code><span class="sig-paren">(</span><em>request</em>, <em>max_records=None</em>, <em>max_client_process_count=8</em>, <em>max_task_count=None</em>, <em>requesting_user=None</em>, <em>options=None</em>, <em>ignore_errors=False</em>, <em>warnings=None</em>, <em>strings_as_utf8=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.scan_as_pandas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.scan_as_pandas" title="Permalink to this definition">¶</a></dt>
<dd><p>Scans data, returning the result for pandas.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>request</strong> (<em>string</em><em>, </em><em>required</em>) – Name of dataset or SQL statement to scan.</li>
<li><strong>max_records</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of records to return. Default is unlimited.</li>
<li><strong>options</strong> (<em>dictionary</em><em>, </em><em>optional</em>) – Optional key/value configs to specify to the request. Note that these
options are not guaranteed to be backwards compatible.</li>
<li><strong>warnings</strong> (<em>list</em><em>(</em><em>string</em><em>)</em><em>, </em><em>optional</em>) – If not None, will be populated with any warnings generated for request.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Data returned as a pandas DataFrame object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">pandas DataFrame</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">okera</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">okera</span><span class="o">.</span><span class="n">context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ctx</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span> <span class="o">=</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="mi">12050</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">pd</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">scan_as_pandas</span><span class="p">(</span><span class="s1">&#39;select * from okera_sample.sample&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="p">)</span>
<span class="go">                               record</span>
<span class="go">0      b&#39;This is a sample test file.&#39;</span>
<span class="go">1  b&#39;It should consist of two lines.&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="okera.odas.PlannerConnection.set_application">
<code class="descname">set_application</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#PlannerConnection.set_application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.PlannerConnection.set_application" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the name of this session. Used for logging purposes on the server.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="okera.odas.ScanTask">
<em class="property">class </em><code class="descclassname">okera.odas.</code><code class="descname">ScanTask</code><span class="sig-paren">(</span><em>name</em>, <em>ctx</em>, <em>plan_hosts</em>, <em>task</em>, <em>max_records</em>, <em>options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#ScanTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.ScanTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#okera.concurrency.BaseBackgroundTask" title="okera.concurrency.BaseBackgroundTask"><code class="xref py py-class docutils literal notranslate"><span class="pre">okera.concurrency.BaseBackgroundTask</span></code></a></p>
<dl class="method">
<dt id="okera.odas.ScanTask.deserialize">
<code class="descname">deserialize</code><span class="sig-paren">(</span><em>schema</em>, <em>columnar_records</em>, <em>num_records</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#ScanTask.deserialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.ScanTask.deserialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract definition to deserialize the returned dataset</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="okera.odas.WorkerConnection">
<em class="property">class </em><code class="descclassname">okera.odas.</code><code class="descname">WorkerConnection</code><span class="sig-paren">(</span><em>thrift_service</em>, <em>ctx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#WorkerConnection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.WorkerConnection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A connection to a CDAS worker.</p>
<dl class="method">
<dt id="okera.odas.WorkerConnection.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#WorkerConnection.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.WorkerConnection.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the session and server connection.</p>
</dd></dl>

<dl class="method">
<dt id="okera.odas.WorkerConnection.close_task">
<code class="descname">close_task</code><span class="sig-paren">(</span><em>handle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#WorkerConnection.close_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.WorkerConnection.close_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the task.</p>
</dd></dl>

<dl class="method">
<dt id="okera.odas.WorkerConnection.exec_task">
<code class="descname">exec_task</code><span class="sig-paren">(</span><em>task</em>, <em>max_records=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#WorkerConnection.exec_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.WorkerConnection.exec_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes a task to begin scanning records.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>task</strong> (<em>obj</em>) – Description of task. This is the result from the planner’s plan() call.</li>
<li><strong>max_records</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of records to return for this task. Default is unlimited.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>object</em> – Handle for this task. Used in subsequent API calls.</li>
<li><em>object</em> – Schema for records returned from this task.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="okera.odas.WorkerConnection.fetch">
<code class="descname">fetch</code><span class="sig-paren">(</span><em>handle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#WorkerConnection.fetch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.WorkerConnection.fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the next batch of records for this task.</p>
</dd></dl>

<dl class="method">
<dt id="okera.odas.WorkerConnection.get_protocol_version">
<code class="descname">get_protocol_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#WorkerConnection.get_protocol_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.WorkerConnection.get_protocol_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the RPC API version of the server.</p>
</dd></dl>

<dl class="method">
<dt id="okera.odas.WorkerConnection.set_application">
<code class="descname">set_application</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#WorkerConnection.set_application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.WorkerConnection.set_application" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the name of this session. Used for logging purposes on the server.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="okera.odas.context">
<code class="descclassname">okera.odas.</code><code class="descname">context</code><span class="sig-paren">(</span><em>application_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.context" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the top level context object to use pyokera.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>application_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of this application. Used for logging and diagnostics.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Context object.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#okera.odas.OkeraContext" title="okera.odas.OkeraContext">OkeraContext</a></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">okera</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">okera</span><span class="o">.</span><span class="n">context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span>                                         <span class="c1"># doctest: +ELLIPSIS</span>
<span class="go">&lt;okera.odas.OkeraContext object at 0x...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="okera.odas.version">
<code class="descclassname">okera.odas.</code><code class="descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera/odas.html#version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.odas.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns version string of this library.</p>
</dd></dl>

</div>
<div class="section" id="module-okera">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-okera" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="okera.check_and_patch_botocore">
<code class="descclassname">okera.</code><code class="descname">check_and_patch_botocore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera.html#check_and_patch_botocore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.check_and_patch_botocore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="okera.get_default_context">
<code class="descclassname">okera.</code><code class="descname">get_default_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera.html#get_default_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.get_default_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="okera.initialize_default_context">
<code class="descclassname">okera.</code><code class="descname">initialize_default_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera.html#initialize_default_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.initialize_default_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="okera.should_patch_botocore">
<code class="descclassname">okera.</code><code class="descname">should_patch_botocore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/okera.html#should_patch_botocore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#okera.should_patch_botocore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="okera.tests.html" class="btn btn-neutral float-right" title="okera.tests package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to pyokera’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Okera Development Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>